!function(t){t.fn.sliderCaptcha=function(e){var n=t.extend(!0,{},t.fn.sliderCaptcha.defaults,e);return n&&"normal"!=n.type&&"filled"!=n.type&&(n.type="normal"),n&&"overlap"!=n.textFeedbackAnimation&&"swipe_overlap"!=n.textFeedbackAnimation&&"swipe"!=n.textFeedbackAnimation&&(n.textFeedbackAnimation="swipe"),this.each(function(){var a=n,i=t(this),o=i.closest("form");o.length&&o.find('input[type="submit"]')&&a.events.submitAfterUnlock?o.find('input[type="submit"]').hide():o.length&&o.find('input[type="submit"]')&&o.find('input[type="submit"]').attr("disabled","disabled"),i.addClass("slider_captcha").width(a.styles.width).height(a.styles.height).css("background",a.styles.backgroundColor).data("options",a),"filled"==a.type?(i.append(t("<span>").append(t("<span>").text(a.hintText).css("line-height",a.styles.height)).data("animation-type",a.textFeedbackAnimation).data("text-color-unlocked",a.styles.unlockTextColor).data("text-unlocked",a.textAfterUnlock).css({"font-size":a.hintTextSize,color:a.styles.textColor,"line-height":a.styles.height})).append(t("<div>").addClass("swipe-knob ui-draggable type_filled").css({background:a.styles.knobColor,left:a.styles.height}).height(a.styles.height).append(t("<span>").data("top-end",a.face.topEnd).data("right-end",a.face.rightEnd).addClass("knob_face").css({top:a.face.topStart,right:a.face.rightStart,"line-height":a.styles.height}))),i.find("span > span").css("left",0)):i.append(t("<span>").data("text-color-unlocked",a.styles.unlockTextColor).data("text-unlocked",a.textAfterUnlock).css({"font-size":a.hintTextSize,color:a.styles.textColor}).text(a.hintText)).append(t("<div>").addClass("swipe-knob ui-draggable").css("background",a.styles.knobColor).width(a.styles.height).height(a.styles.height).append(t("<span>").addClass("knob_face"))),a.face.entypoStart.length&&i.find(".swipe-knob").data("start-icon",a.face.entypoStart).addClass("icon-"+a.face.entypoStart),a.face.entypoEnd.length&&i.find(".swipe-knob").data("end-icon",a.face.entypoEnd),i.find(".knob_face").css("color",a.face.textColorStart).data("end-text-color",a.face.textColorEnd),i.data("events",a.events).append(t("<div>").addClass("knob-destiny").data("disabled-knob-color",a.styles.disabledKnobColor).width(a.styles.height).height(a.styles.height)).data("form",o),i.find(".swipe-knob").draggable({containment:"parent",scrollSpeed:70,axis:"x",cursor:"move",revert:"invalid",zIndex:"1",drag:function(e,n){if(t(this).parent().find("span > span").parent().data("animation-type")){var a=t(this).parent(),i=a.get(0).getBoundingClientRect(),o=a.find("span > span"),d=(o.get(0).getBoundingClientRect(),a.find("span > span").parent()),s=d.get(0).getBoundingClientRect(),l=0;"swipe_overlap"==o.parent().data("animation-type")?(n.offset.left+10+5+s.width>i.width?l=i.width-s.width-s.left-5:s.left<n.offset.left+10&&(l=n.offset.left-s.left+10),o.css("left",l)):"swipe"==o.parent().data("animation-type")&&(l=s.left<n.offset.left+10?n.offset.left-s.left+10:0,o.css("left",l))}},stop:function(){t(this).parent().find("span > span").parent().data("animation-type")&&t(this).parent().find("span > span").animate({left:0},200)}}),i.find(".knob-destiny").droppable({acccept:".swipe-knob",tolerance:"pointer",drop:function(n,i){var o=t(this).parent().data("events"),d=t(this).parent(),s=d.find("span:eq(0)"),l=t(i.draggable),p=t(this),r=d.data("form");e=d.data("options"),r.find(":focus").blur(),l.find(".knob_face").data("end-text-color")&&l.find(".knob_face").css("color",l.find(".knob_face").data("end-text-color")),l.data("end-icon")&&(l.data("start-icon")&&l.removeClass("icon-"+l.data("start-icon")),l.addClass("icon-"+l.data("end-icon")),l.find("span").data("top-end")&&l.find("span").css("top",l.find("span").data("top-end")),l.find("span").data("right-end")&&l.find("span").css("right",l.find("span").data("right-end"))),o.beforeUnlock&&"function"==typeof o.beforeUnlock&&o.beforeUnlock.apply(),a.textAfterUnlock.length&&s.text(s.data("text-unlocked")),p.droppable("option","disabled",!0),s.css({"z-index":2,color:s.data("text-color-unlocked")}),l.addClass("swipe_ended").css({left:"auto",background:p.data("disabled-knob-color")}).draggable({disabled:!0}),o.afterUnlock&&"function"==typeof o.afterUnlock&&o.afterUnlock.apply(),r.length&&(o.validateOnServer&&r.append(t("<input>").attr("type","hidden").attr("name",o.validateOnServerParamName).val(1)),r.find('input[type="submit"]').removeAttr("disabled").click(function(){o.beforeSubmit&&"function"==typeof o.beforeSubmit&&o.beforeSubmit.apply()}),o.submitAfterUnlock&&(r.find("input[type=submit]").length||r.append(t("<input>").attr("type","submit").hide()),r.find("input[type=submit]").click(),r.find(":focus").length&&(o.noSubmit&&"function"==typeof o.noSubmit&&o.noSubmit.apply(),d.empty().sliderCaptcha(e))))}})})},t.fn.sliderCaptcha.defaults={type:"normal",textFeedbackAnimation:"overlap",styles:{knobColor:"",disabledKnobColor:"#5CDF3B",backgroundColor:"",textColor:"",unlockTextColor:"#000",width:"100%",height:""},hintText:"Swipe to Unlock",hintTextSize:"",textAfterUnlock:"Unlocked",face:{image:"",entypoStart:"",topStart:"",rightStart:"",textColorStart:"",entypoEnd:"",topEnd:"",rightEnd:"",textColorEnd:""},events:{beforeUnlock:function(){},afterUnlock:function(){},beforeSubmit:function(){},noSubmit:function(){},submitAfterUnlock:0,validateOnServer:0,validateOnServerParamName:"slider_captcha_validated"}}}(jQuery);