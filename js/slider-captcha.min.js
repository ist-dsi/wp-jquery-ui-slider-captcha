!function(t){t.fn.sliderCaptcha=function(e){var n=t.extend(!0,{},t.fn.sliderCaptcha.defaults,e);return n&&"normal"!=n.type&&"filled"!=n.type&&(n.type="normal"),n&&"overlap"!=n.textFeedbackAnimation&&"swipe_overlap"!=n.textFeedbackAnimation&&"swipe"!=n.textFeedbackAnimation&&(n.textFeedbackAnimation="swipe"),this.each(function(){var e=n,a=t(this),i=a.closest("form");i.length&&i.find('input[type="submit"]')&&i.find('input[type="submit"]').attr("disabled","disabled"),a.addClass("slider_captcha").width(e.styles.width).height(e.styles.height).css("background",e.styles.backgroundColor),"filled"==e.type?(a.append(t("<span>").append(t("<span>").text(e.hintText)).data("animation-type",e.textFeedbackAnimation).data("text-color-unlocked",e.styles.unlockTextColor).data("text-unlocked",e.textAfterUnlock).css({"font-size":e.hintTextSize,color:e.styles.textColor})).append(t("<div>").addClass("swipe-knob ui-draggable type_filled").css({background:e.styles.knobColor,left:e.styles.height}).height(e.styles.height).append(t("<span>").data("top-end",e.face.topEnd).data("right-end",e.face.rightEnd).addClass("knob_face").css({top:e.face.topStart,right:e.face.rightStart}))),a.find("span > span").css("left",a.get(0).getBoundingClientRect().width/2-a.find("span > span").get(0).getBoundingClientRect().width/2)):a.append(t("<span>").data("text-color-unlocked",e.styles.unlockTextColor).data("text-unlocked",e.textAfterUnlock).css({"font-size":e.hintTextSize,color:e.styles.textColor}).text(e.hintText)).append(t("<div>").addClass("swipe-knob ui-draggable").css("background",e.styles.knobColor).height(e.styles.height).append(t("<span>").addClass("knob_face"))),e.face.entypoStart.length&&a.find(".swipe-knob").data("start-icon",e.face.entypoStart).addClass("icon-"+e.face.entypoStart),e.face.entypoEnd.length&&a.find(".swipe-knob").data("end-icon",e.face.entypoEnd),a.find(".knob_face").css("color",e.face.textColorStart).data("end-text-color",e.face.textColorEnd),a.data("events",e.events).append(t("<div>").addClass("knob-destiny").data("disabled-knob-color",e.styles.disabledKnobColor).width(e.styles.height).height(e.styles.height)).data("form",i),a.find(".swipe-knob").draggable({containment:"parent",scrollSpeed:70,axis:"x",cursor:"move",revert:"invalid",zIndex:"1",drag:function(e,n){if(t(this).parent().find("span > span").parent().data("animation-type")){var a,i=t(this).parent(),o=i.get(0).getBoundingClientRect(),d=i.find("span > span"),s=d.get(0).getBoundingClientRect();"swipe_overlap"==d.parent().data("animation-type")?(a=(o.width-s.width)/2>n.offset.left?(o.width-s.width)/2:10+n.offset.left+s.width>o.width?o.width-s.width-10:n.offset.left,d.css("left",a)):"swipe"==d.parent().data("animation-type")&&(a=(o.width-s.width)/2<n.offset.left?n.offset.left:(o.width-s.width)/2,d.css("left",a))}},stop:function(){t(this).parent().find("span > span").parent().data("animation-type")&&t(this).parent().find("span > span").animate({left:t(this).parent().get(0).getBoundingClientRect().width/2-t(this).parent().find("span > span").get(0).getBoundingClientRect().width/2},200)}}),a.find(".knob-destiny").droppable({acccept:".swipe-knob",tolerance:"pointer",drop:function(n,a){var i=t(this).parent().data("events"),o=t(this).parent(),d=o.find("span:eq(0)"),s=t(a.draggable),l=t(this),r=o.data("form");s.find(".knob_face").data("end-text-color")&&s.find(".knob_face").css("color",s.find(".knob_face").data("end-text-color")),s.data("end-icon")&&(s.data("start-icon")&&s.removeClass("icon-"+s.data("start-icon")),s.addClass("icon-"+s.data("end-icon")),s.find("span").data("top-end")&&s.find("span").css("top",s.find("span").data("top-end")),s.find("span").data("right-end")&&s.find("span").css("right",s.find("span").data("right-end"))),i.beforeUnlock&&"function"==typeof i.beforeUnlock&&i.beforeUnlock.apply(),e.textAfterUnlock.length&&d.text(d.data("text-unlocked")),l.droppable("option","disabled",!0),d.css({"z-index":2,color:d.data("text-color-unlocked")}),s.addClass("swipe_ended").css({left:"auto",background:l.data("disabled-knob-color")}).draggable({disabled:!0}),i.afterUnlock&&"function"==typeof i.afterUnlock&&i.afterUnlock.apply(),r.length&&(i.validateOnServer&&r.append(t("<input>").attr("type","hidden").attr("name",i.validateOnServerParamName).val(1)),r.find('input[type="submit"]').removeAttr("disabled").click(function(){i.beforeSubmit&&"function"==typeof i.beforeSubmit&&i.beforeSubmit.apply()}),i.submitAfterUnlock&&r.submit())}})})},t(window).resize(function(){t(".slider_captcha").find("span > span").parent().each(function(){t(this).data("animation-type")&&t(this).parent().find("span > span").css("left",t(this).parent().get(0).getBoundingClientRect().width/2-t(this).parent().find("span > span").get(0).getBoundingClientRect().width/2)})}),t.fn.sliderCaptcha.defaults={type:"normal",textFeedbackAnimation:"overlap",styles:{knobColor:"",disabledKnobColor:"#5CDF3B",backgroundColor:"",textColor:"",unlockTextColor:"#000",width:"100%",height:""},hintText:"Swipe to Unlock",hintTextSize:"",textAfterUnlock:"Unlocked",face:{image:"",entypoStart:"",topStart:"",rightStart:"",textColorStart:"",entypoEnd:"",topEnd:"",rightEnd:"",textColorEnd:""},events:{beforeUnlock:function(){},afterUnlock:function(){},beforeSubmit:function(){},submitAfterUnlock:0,validateOnServer:0,validateOnServerParamName:"slider_captcha_validated"}}}(jQuery);